/*! For license information please see 5-es2015.719afebfc8699a6ce9d0.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{O1kn:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("wj3C");r("fSjL");var i=r("mrSG"),o=r("zVF4"),s=r("q/0M"),a=r("S+S0");function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u,f=c(n),l=function(){function t(t,e,r,n){this.client=t,this.storage=e,this.storageCache=r,this.logger=n}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-e,n=r<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+r+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+n+"."),n},t.prototype.fetch=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,r,n,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=i.sent(),r=e[0],(n=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,n]:(t.eTag=n&&n.eTag,[4,this.client.fetch(t)]);case 2:return o=i.sent(),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&s.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(s)];case 3:return i.sent(),[2,o]}}))}))},t}(),h=((u={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",u["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",u["registration-api-key"]="Undefined API key. Check Firebase app initialization.",u["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",u["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',u["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',u["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u),p=new o.ErrorFactory("remoteconfig","Remote Config",h),g=function(){function t(t,e,r,n,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=r,this.projectId=n,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,r,n,o,s,a,c,u,f,l,h,g,d,_,v,m;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=i.sent(),r=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",n=r+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,o={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===b&&(b=navigator),b.languages&&b.languages[0]||b.language)},s={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(o)},a=fetch(n,s),c=new Promise((function(e,r){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",r(t)}))})),i.label=2;case 2:return i.trys.push([2,5,,6]),[4,Promise.race([a,c])];case 3:return i.sent(),[4,a];case 4:return u=i.sent(),[3,6];case 5:throw f=i.sent(),l="fetch-client-network","AbortError"===f.name&&(l="fetch-timeout"),p.create(l,{originalErrorMessage:f.message});case 6:if(h=u.status,g=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];v=void 0,i.label=7;case 7:return i.trys.push([7,9,,10]),[4,u.json()];case 8:return v=i.sent(),[3,10];case 9:throw m=i.sent(),p.create("fetch-client-parse",{originalErrorMessage:m.message});case 10:d=v.entries,_=v.state,i.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===_?h=500:"NO_CHANGE"===_?h=304:"NO_TEMPLATE"!==_&&"EMPTY_CONFIG"!==_||(d={}),304!==h&&200!==h)throw p.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:g,config:d}]}var b}))}))},t}(),d=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),_=["1","true","t","yes","y","on"],v=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&_.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),m=function(){function t(t,e,r,n,i){this.app=t,this._client=e,this._storageCache=r,this._storage=n,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=s.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=s.LogLevel.SILENT;break;default:this._logger.logLevel=s.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,r;return i.__generator(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=n.sent(),r=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==r?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return n.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,r,n=this;return i.__generator(this,(function(s){switch(s.label){case 0:t=new d,setTimeout((function(){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return e=s.sent(),r=(a=e)instanceof o.FirebaseError&&-1!==a.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),e;case 6:return[2]}var a}))}))},t.prototype.fetchAndActivate=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t,e,r=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(i.__assign(i.__assign({},t),e))).reduce((function(t,e){return t[e]=r.getValue(e),t}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new v("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new v("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new v("static"))},t}();function b(t,e){var r=t.target.error||void 0;return p.create(e,{originalErrorMessage:r&&r.message})}var w=function(){function t(t,e,r,n){void 0===n&&(n=new Promise((function(t,e){var r=indexedDB.open("firebase_remote_config",1);r.onerror=function(t){e(b(t,"storage-open"))},r.onsuccess=function(e){t(e.target.result)},r.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=r,this.openDbPromise=n}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,r=this;return i.__generator(this,(function(n){switch(n.label){case 0:return[4,this.openDbPromise];case 1:return e=n.sent(),[2,new Promise((function(n,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),s=r.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(b(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;n(e?e.value:void 0)}}catch(c){i(p.create("storage-get",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.set=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var r,n=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return r=i.sent(),[2,new Promise((function(i,o){var s=r.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var c=s.put({compositeKey:a,value:e});c.onerror=function(t){o(b(t,"storage-set"))},c.onsuccess=function(){i()}}catch(u){o(p.create("storage-set",{originalErrorMessage:u&&u.message}))}}))]}}))}))},t.prototype.delete=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,r=this;return i.__generator(this,(function(n){switch(n.label){case 0:return[4,this.openDbPromise];case 1:return e=n.sent(),[2,new Promise((function(n,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(b(t,"storage-delete"))},a.onsuccess=function(){n()}}catch(c){i(p.create("storage-delete",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),y=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,r,n,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return(n=i.sent())&&(this.lastFetchStatus=n),[4,e];case 2:return(o=i.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return(s=i.sent())&&(this.activeConfig=s),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function S(t,e){return new Promise((function(r,n){var i=Math.max(e-Date.now(),0),o=setTimeout(r,i);t.addEventListener((function(){clearTimeout(o),n(p.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var C=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var r=e.throttleEndTimeMillis,n=e.backoffCount;return i.__awaiter(this,void 0,void 0,(function(){var e,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,S(t.signal,r)];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=i.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return i.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof o.FirebaseError))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(s=i.sent()))throw s;return a={throttleEndTimeMillis:Date.now()+o.calculateBackoffMillis(n),backoffCount:n+1},[4,this.storage.setThrottleMetadata(a)];case 6:return i.sent(),[2,this.attemptFetch(t,a)];case 7:return[2]}}))}))},t}(),j="@firebase/remote-config";function T(t){t.INTERNAL.registerComponent(new a.Component("remoteConfig",(function(e,r){var n=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw p.create("registration-window");var o=n.options,a=o.projectId,c=o.apiKey,u=o.appId;if(!a)throw p.create("registration-project-id");if(!c)throw p.create("registration-api-key");if(!u)throw p.create("registration-app-id");var f=new w(u,n.name,r=r||"firebase"),h=new y(f),d=new s.Logger(j);d.logLevel=s.LogLevel.ERROR;var _=new g(i,t.SDK_VERSION,r,a,c,u),v=new C(_,f),b=new l(v,f,h,d),S=new m(n,b,h,f,d);return S.ensureInitialized(),S}),"PUBLIC").setMultipleInstances(!0)),t.registerVersion(j,"0.1.28")}T(f.default),e.registerRemoteConfig=T},fSjL:function(t,e,r){"use strict";r.r(e),r.d(e,"registerInstallations",(function(){return H}));var n,i=r("wj3C"),o=r.n(i),s=r("S+S0"),a=r("mrSG"),c=r("zVF4"),u=r("nbvr"),f=((n={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',n["not-registered"]="Firebase Installation is not registered.",n["installation-not-found"]="Firebase Installation not found.",n["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',n["app-offline"]="Could not process request. Application offline.",n["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",n),l=new c.ErrorFactory("installations","Installations",f);function h(t){return t instanceof c.FirebaseError&&t.code.includes("request-failed")}function p(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function g(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function d(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return r=i.sent(),[2,l.create("request-failed",{requestName:t,serverCode:(n=r.error).code,serverMessage:n.message,serverStatus:n.status})]}}))}))}function _(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function v(t,e){var r=e.refreshToken,n=_(t);return n.append("Authorization",function(t){return"FIS_v2 "+t}(r)),n}function m(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,t()];case 1:return(e=r.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function b(t,e){var r=e.fid;return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return e=p(t),n=_(t),i={method:"POST",headers:n,body:JSON.stringify({fid:r,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.17"})},[4,m((function(){return fetch(e,i)}))];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||r,registrationStatus:2,refreshToken:s.refreshToken,authToken:g(s.authToken)}];case 3:return[4,d("Create Installation",o)];case 4:throw a.sent()}}))}))}function w(t){return new Promise((function(e){setTimeout(e,t)}))}var y=/^[cdef][\w-]{21}$/;function S(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(a.__spread)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return y.test(e)?e:""}catch(n){return""}}function C(t){return t.appName+"!"+t.appId}var j=new Map;function T(t,e){var r=C(t);O(r,e),function(t,e){var r=E();r&&r.postMessage({key:t,fid:e}),k()}(r,e)}function O(t,e){var r,n,i=j.get(t);if(i)try{for(var o=Object(a.__values)(i),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}var I=null;function E(){return!I&&"BroadcastChannel"in self&&((I=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){O(t.data.key,t.data.fid)}),I}function k(){0===j.size&&I&&(I.close(),I=null)}var F="firebase-installations-store",M=null;function P(){return M||(M=Object(u.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(F)}}))),M}function L(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,n,i,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return r=C(t),[4,P()];case 1:return n=a.sent(),i=n.transaction(F,"readwrite"),[4,(o=i.objectStore(F)).get(r)];case 2:return s=a.sent(),[4,o.put(e,r)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||T(t,e.fid),[2,e]}}))}))}function D(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,r,n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return e=C(t),[4,P()];case 1:return r=i.sent(),[4,(n=r.transaction(F,"readwrite")).objectStore(F).delete(e)];case 2:return i.sent(),[4,n.complete];case 3:return i.sent(),[2]}}))}))}function A(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,n,i,o,s,c;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return r=C(t),[4,P()];case 1:return n=a.sent(),i=n.transaction(F,"readwrite"),[4,(o=i.objectStore(F)).get(r)];case 2:return s=a.sent(),void 0!==(c=e(s))?[3,4]:[4,o.delete(r)];case 3:return a.sent(),[3,6];case 4:return[4,o.put(c,r)];case 5:a.sent(),a.label=6;case 6:return[4,i.complete];case 7:return a.sent(),!c||s&&s.fid===c.fid||T(t,c.fid),[2,c]}}))}))}function N(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,r,n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,A(t,(function(r){var n=function(t){return K(t||{fid:S(),registrationStatus:0})}(r),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(l.create("app-offline"))};var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:r,registrationPromise:function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,b(t,e)];case 1:return r=i.sent(),[2,L(t,r)];case 2:return h(n=i.sent())&&409===n.serverCode?[4,D(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,L(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw n;case 7:return[2]}}))}))}(t,r)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:x(t)}:{installationEntry:e}}(t,n);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(r=i.sent()).fid?[3,3]:(n={},[4,e]);case 2:return[2,(n.installationEntry=i.sent(),n)];case 3:return[2,{installationEntry:r,registrationPromise:e}]}}))}))}function x(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,r,n,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return[4,q(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,w(100)];case 3:return o.sent(),[4,q(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,N(t)];case 6:return r=o.sent(),n=r.installationEntry,(i=r.registrationPromise)?[2,i]:[2,n];case 7:return[2,e]}}))}))}function q(t){return A(t,(function(t){if(!t)throw l.create("installation-not-found");return K(t)}))}function K(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function B(t,e){var r=t.appConfig,n=t.platformLoggerProvider;return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,i,o,s,c;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return t=function(t,e){var r=e.fid;return p(t)+"/"+r+"/authTokens:generate"}(r,e),i=v(r,e),(o=n.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.17"}})},[4,m((function(){return fetch(t,s)}))];case 1:return(c=a.sent()).ok?[4,c.json()]:[3,3];case 2:return[2,g(a.sent())];case 3:return[4,d("Generate Auth Token",c)];case 4:throw a.sent()}}))}))}function R(t,e){return void 0===e&&(e=!1),Object(a.__awaiter)(this,void 0,void 0,(function(){var r,n,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return[4,A(t.appConfig,(function(n){if(!z(n))throw l.create("not-registered");var i,o=n.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return n;if(1===o.requestStatus)return r=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,V(t.appConfig)];case 1:r=i.sent(),i.label=2;case 2:return 1!==r.authToken.requestStatus?[3,5]:[4,w(100)];case 3:return i.sent(),[4,V(t.appConfig)];case 4:return r=i.sent(),[3,2];case 5:return 0===(n=r.authToken).requestStatus?[2,R(t,e)]:[2,n]}}))}))}(t,e),n;if(!navigator.onLine)throw l.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(a.__assign)(Object(a.__assign)({},t),{authToken:e})}(n);return r=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,n,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,B(t,e)];case 1:return r=o.sent(),i=Object(a.__assign)(Object(a.__assign)({},e),{authToken:r}),[4,L(t.appConfig,i)];case 2:return o.sent(),[2,r];case 3:return!h(n=o.sent())||401!==n.serverCode&&404!==n.serverCode?[3,5]:[4,D(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(a.__assign)(Object(a.__assign)({},e),{authToken:{requestStatus:0}}),[4,L(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw n;case 8:return[2]}}))}))}(t,s),s}))];case 1:return n=o.sent(),r?[4,r]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=n.authToken,o.label=4;case 4:return[2,i]}}))}))}function V(t){return A(t,(function(t){if(!z(t))throw l.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(a.__assign)(Object(a.__assign)({},t),{authToken:{requestStatus:0}}):t}))}function z(t){return void 0!==t&&2===t.registrationStatus}function $(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,N(t)];case 1:return(e=r.sent().registrationPromise)?[4,e]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function U(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,n,i,o;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:return r=function(t,e){var r=e.fid;return p(t)+"/"+r}(t,e),n=v(t,e),i={method:"DELETE",headers:n},[4,m((function(){return fetch(r,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,d("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}function G(t){return l.create("missing-app-config-values",{valueName:t})}function H(t){t.INTERNAL.registerComponent(new s.Component("installations",(function(t){var e=t.getProvider("app").getImmediate(),r={appConfig:function(t){var e,r;if(!t||!t.options)throw G("App Configuration");if(!t.name)throw G("App Name");try{for(var n=Object(a.__values)(["projectId","apiKey","appId"]),i=n.next();!i.done;i=n.next()){var o=i.value;if(!t.options[o])throw G(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,r,n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,N(t.appConfig)];case 1:return e=i.sent(),r=e.installationEntry,(n=e.registrationPromise)?n.catch(console.error):R(t).catch(console.error),[2,r.fid]}}))}))}(r)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,$(t.appConfig)];case 1:return r.sent(),[4,R(t,e)];case 2:return[2,r.sent().token]}}))}))}(r,t)},delete:function(){return function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,r;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,A(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(r=n.sent()))return[3,6];if(1!==r.registrationStatus)return[3,2];throw l.create("delete-pending-registration");case 2:if(2!==r.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw l.create("app-offline");case 3:return[4,U(e,r)];case 4:return n.sent(),[4,D(e)];case 5:n.sent(),n.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(t){return function(t,e){var r=t.appConfig;return function(t,e){E();var r=C(t),n=j.get(r);n||(n=new Set,j.set(r,n)),n.add(e)}(r,e),function(){!function(t,e){var r=C(t),n=j.get(r);n&&(n.delete(e),0===n.size&&j.delete(r),k())}(r,e)}}(r,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.17")}H(o.a)},nbvr:function(t,e,r){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function r(t){return new Promise((function(e,r){t.onsuccess=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function n(t,e,n){var i,o=new Promise((function(o,s){r(i=t[e].apply(t,n)).then(o,s)}));return o.request=i,o}function i(t,e,r){var i=n(t,e,r);return i.then((function(t){if(t)return new f(t,i.request)}))}function o(t,e,r){r.forEach((function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(t){this[e][r]=t}})}))}function s(t,e,r,i){i.forEach((function(i){i in r.prototype&&(t.prototype[i]=function(){return n(this[e],i,arguments)})}))}function a(t,e,r,n){n.forEach((function(n){n in r.prototype&&(t.prototype[n]=function(){return this[e][n].apply(this[e],arguments)})}))}function c(t,e,r,n){n.forEach((function(n){n in r.prototype&&(t.prototype[n]=function(){return i(this[e],n,arguments)})}))}function u(t){this._index=t}function f(t,e){this._cursor=t,this._request=e}function l(t){this._store=t}function h(t){this._tx=t,this.complete=new Promise((function(e,r){t.oncomplete=function(){e()},t.onerror=function(){r(t.error)},t.onabort=function(){r(t.error)}}))}function p(t,e,r){this._db=t,this.oldVersion=e,this.transaction=new h(r)}function g(t){this._db=t}o(u,"_index",["name","keyPath","multiEntry","unique"]),s(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(f,"_cursor",["direction","key","primaryKey","value"]),s(f,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(f.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),r(e._request).then((function(t){if(t)return new f(t,e._request)}))}))})})),l.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},l.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(l,"_store",["name","keyPath","indexNames","autoIncrement"]),s(l,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(l,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(l,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new l(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),a(h,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new l(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["deleteObjectStore","close"]),g.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(g,"_db",["name","version","objectStoreNames"]),a(g,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[l,u].forEach((function(r){t in r.prototype&&(r.prototype[t.replace("open","iterate")]=function(){var r=e(arguments),n=r[r.length-1],i=this._store||this._index,o=i[t].apply(i,r.slice(0,-1));o.onsuccess=function(){n(o.result)}})}))})),[u,l].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var r=this,n=[];return new Promise((function(i){r.iterateCursor(t,(function(t){t?(n.push(t.value),void 0===e||n.length!=e?t.continue():i(n)):i(n)}))}))})})),t.openDb=function(t,e,r){var i=n(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){r&&r(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new g(t)}))},t.deleteDb=function(t){return n(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},oRHo:function(t,e,r){"use strict";r.r(e),r("O1kn")}}]);